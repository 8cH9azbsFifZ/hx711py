Quick code credited to Philip Whitfield  "https://github.com/underdoeg/".
I've only made a few modifications on the way the captured bits are processed.

If you have unstable data, I'd suggest using a pulldown resistor con the Clock Pin and, I'm not sure whether a pullup or a pulldown resistor on the Data Pin. This really improved the stability of the reading both using 3V3 and 5V. (3V3 was more stable.)
